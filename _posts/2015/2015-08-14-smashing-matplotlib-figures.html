---
layout: post
title: 'Publication-quality matplotlib figures '
date: '2015-08-14T10:54:00.004-07:00'
author: jandom
tags: 
modified_time: '2015-08-15T08:25:33.448-07:00'
thumbnail: http://1.bp.blogspot.com/-nEEXUwAkYtE/Vc4VM3lxm7I/AAAAAAAAGo4/SvUUswnDQ_Y/s72-c/dummy.png
blogger_id: tag:blogger.com,1999:blog-2967594273163880803.post-5902046935142891640
blogger_orig_url: https://jandomanski.blogspot.com/2015/08/smashing-matplotlib-figures.html
---

We're going to go from this...<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-nEEXUwAkYtE/Vc4VM3lxm7I/AAAAAAAAGo4/SvUUswnDQ_Y/s1600/dummy.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://1.bp.blogspot.com/-nEEXUwAkYtE/Vc4VM3lxm7I/AAAAAAAAGo4/SvUUswnDQ_Y/s320/dummy.png" width="320" /></a></div>... to this <br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-t3SZRQ4NY4M/Vc4m15AR7RI/AAAAAAAAGpQ/uRjIWP7DaVc/s1600/reduction_2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://1.bp.blogspot.com/-t3SZRQ4NY4M/Vc4m15AR7RI/AAAAAAAAGpQ/uRjIWP7DaVc/s320/reduction_2.png" width="320" /></a></div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-KY1_jAH0wWQ/Vc4VOEBRi_I/AAAAAAAAGpA/Zf9aFWv4fBU/s1600/reduction_2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><br /></a></div>Install <a href="https://github.com/olgabot/prettyplotlib">prettyplotlib</a>, a useful tool for graph styling<br /><br /><br /><span style="color: #666666;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">sudo pip install prettyplotlib&nbsp;</span></span></span><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp; </span></span><br /><span style="font-family: inherit;">Add a new method to style the axes to prettyplotlib/util.py&nbsp;</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;"><span style="color: #666666;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">def styling(ax, xpad=10.0, ypad=10.0, axiswidth=2.0, axistickwidth=2.0, axiscolor="#333333"):<br /><br />&nbsp;&nbsp;&nbsp; for axis in ['bottom','left']: ax.spines[axis].set_linewidth(axiswidth)<br /><br />&nbsp;&nbsp;&nbsp; for tick in ax.get_xaxis().get_major_ticks():<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tick.set_pad(xpad)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tick.label1 = tick._get_text1()<br /><br />&nbsp;&nbsp;&nbsp; for tick in ax.get_yaxis().get_major_ticks():<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tick.set_pad(ypad)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tick.label1 = tick._get_text1()<br /><br />&nbsp;&nbsp;&nbsp; ax.get_yaxis().set_tick_params(direction='out', width=axistickwidth)<br />&nbsp;&nbsp;&nbsp; ax.get_xaxis().set_tick_params(direction='out', width=axistickwidth)<br /><br />&nbsp;&nbsp;&nbsp; ax.spines['bottom'].set_color(axiscolor)<br />&nbsp;&nbsp;&nbsp; ax.spines['left'].set_color(axiscolor)<br /><br />&nbsp;&nbsp;&nbsp; ax.tick_params(axis='x', colors=axiscolor)<br />&nbsp;&nbsp;&nbsp; ax.tick_params(axis='y', colors=axiscolor)</span></span></span></span><br /><br /><span style="font-family: inherit;">Set figure size to be smaller, load a color-brewer set from prettyplotlib</span><br /><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;"><span style="color: #666666;">from prettyplotlib.colors import set2<br />fig = plt.figure(figsize=[4.35,4.35],dpi=300) </span></span></span><br /><br /><span style="font-family: inherit;">Plot the curves with more color</span><br /><span style="font-family: inherit;"><br /></span><span style="color: #666666;"><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">ax.errorbar(XA, YA, yerr=YAerr,fmt='o', color='black',&nbsp; ecolor='black', capthick=2, elinewidth=3, capsize=2)<br />X2 = np.linspace(300, 900, 100)<br />ax.plot(X2, zwanzig(X2, poptA[0], poptA[1]), color=set2[0], lw=2, alpha=0.66, label="Zwanzig")<br />ax.plot(X2, boring(X2, poptB[0], poptB[1]), color=set2[3], lw=2, alpha=0.66, label="Boltzman", ls='--')</span></span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;"><br /></span></span><span style="font-family: inherit;">Equations could you use more color, larger fonts too</span><br /><br /><span style="font-family: inherit;"><span style="color: #666666;"><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">ax.text(350, 1e-0, r'$D_{0}= 5.5 \times&nbsp; 10^{-5} cm^2 / s$', fontsize=15, color=set2[3])<br />ax.text(350, 0.5e-0, r'$\epsilon_{RT}= 6.1$', fontsize=15, color=set2[3])<br /><br />ax.text(600, 1e-1, r'$D_{0}= 0.8 \times&nbsp; 10^{-5} cm^2 / s$', fontsize=15, color=set2[0])<br />ax.text(600, 0.5e-1, r'$\epsilon_{RT}= 2.2$', fontsize=15, color=set2[0])</span></span></span> </span><br /><br /><span style="font-family: inherit;">Clean-up and style the figure</span><br /><br /><span style="font-family: inherit;"><span style="color: #666666;"><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">ppl.utils.remove_chartjunk(ax,['top', 'right' ])<br />ppl.utils.styling(ax)</span></span></span> </span><br /><br /><span style="font-family: inherit;">Install Calabri-like fonts on ubuntu</span><br /><span style="color: #666666;"><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;"><br /></span></span></span><span style="color: #666666;"><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">sudo apt-get install fonts-crosextra-caladea fonts-crosextra-carlito</span></span></span><br /><br />Clear matplotlib font cache<br /><pre><code>&nbsp;</code></pre><pre><span style="color: #666666;"><code>import matplotlib<br />matplotlib.get_cachedir()</code></span></pre><pre><code><br /></code></pre>Load the new fonts at the top of your script<br /><br /><span style="color: #666666;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">import matplotlib.font_manager as fm<br />prop = fm.FontProperties(fname='/usr/share/fonts/truetype/crosextra/Carlito-Regular.ttf')<br />matplotlib.rcParams['font.family'] = prop.get_name()<br />matplotlib.rcParams['mathtext.fontset'] = 'custom'<br />matplotlib.rcParams['mathtext.rm'] = 'Carlito'<br />matplotlib.rcParams['mathtext.it'] = 'Carlito'<br />matplotlib.rcParams['mathtext.bf'] = 'Carlito:bold'</span></span></span><br /><br /><pre><code> </code></pre>