---
layout: post
title: complie plumed 2 with gromacs 4.6 on ubuntu 14.04
date: '2015-02-05T11:47:00.002-08:00'
author: jandom
tags: 
modified_time: '2015-07-16T07:42:30.719-07:00'
blogger_id: tag:blogger.com,1999:blog-2967594273163880803.post-634364746602876682
blogger_orig_url: https://jandomanski.blogspot.com/2015/02/complie-plumed-2-with-gromacs-46-on.html
---

Should be simple right? Just you wait... Because I do it for the 5th time now, this will deserve a blog entry, if anything for my own sanity.&nbsp; <br /><br /><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">sudo apt-get install libblas-dev liblapack-dev</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">tar xvf plumed-2.1.1.tgz </span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">cd plumed-2.1.1</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">export PLUMED_PREFIX=~/Programs/plumed/2.1.1/</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">./configure.sh&nbsp; &lt;&lt; EOF</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">1</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">EOF</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">make </span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">make install</span></span><br /><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;</span></span><br />[<b>Edit</b>]For OpenMPI plumed installation do the following<br /><br /><pre class="brush: bash; title: ; notranslate" title="">sudo apt-get install libcr-dev mpich2 mpich2-doc</pre><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">./configure.sh&nbsp; &lt;&lt; EOF</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">3</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">EOF</span></span> <br /><pre class="brush: bash; title: ; notranslate" title="">sed -i  s#'-lblas'#'-lblas -L/usr/lib/openmpi/lib'#g Makefile.conf<br />sed -i  s#'PLUMED_INCLUDE)'#'PLUMED_INCLUDE)  -I/usr/lib/openmpi/include'#g Makefile.conf</pre><br />The default ./configure command doesn't do the job for me. So let's ignore that for now.<br /><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">cmake .. -DCMAKE_INSTALL_PREFIX=/path/ -DGMX_MPI=OFF -DGMX_GPU=OFF</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">make&nbsp;</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">make install&nbsp;</span></span><br /><br />And then if all goes well<br /><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">source /path/</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">mdrun -h 2&gt;&amp;1 &gt;/dev/null | grep plumed<br />-plumed&nbsp; plumed.dat&nbsp; Input, Opt.&nbsp; Generic data fil</span>e</span><br /><br />Sadly, this is just a serial version of plumed but that should be enough for some local checks. 